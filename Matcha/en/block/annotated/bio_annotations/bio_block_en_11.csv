Token,BIO1
Article,O
5,O
(,O
https://www.soldev.app/course/serialize-instruction-data,O
),O
"

",O
Summary,O
"

",O
Transactions,B
are,O
made,O
up,O
of,O
an,O
array,O
of,O
instructions,B
",",O
a,O
single,O
transaction,B
can,O
have,O
any,O
number,O
of,O
instructions,B
in,O
it,O
",",O
each,O
targeting,O
its,O
own,O
program,O
.,O
When,O
a,O
transaction,B
is,O
submitted,O
",",O
the,O
Solana,B
runtime,I
will,O
process,O
its,O
instructions,B
in,O
order,O
and,O
atomically,O
",",O
meaning,O
that,O
if,O
any,O
of,O
the,O
instructions,B
fail,O
for,O
any,O
reason,B
",",O
the,O
entire,O
transaction,B
will,O
fail,O
to,O
be,O
processed,O
.,O
"

",O
Every,O
instruction,B
is,O
made,O
up,O
of,O
3,O
components,O
:,O
the,O
intended,O
program,O
's,O
ID,O
",",O
an,O
array,O
of,O
all,O
account,B
’s,O
involved,O
",",O
and,O
a,O
byte,B
buffer,I
of,O
instruction,B
data,O
.,O
"

",O
Every,O
transaction,B
contains,O
:,O
an,O
array,O
of,O
all,O
accounts,B
it,O
intends,O
to,O
read,O
or,O
write,O
",",O
one,O
or,O
more,O
instructions,B
",",O
a,O
recent,O
blockhash,B
",",O
and,O
one,O
or,O
more,O
signatures,B
.,O
"

",O
In,O
order,O
to,O
pass,O
instruction,B
data,O
from,O
a,O
client,B
",",O
it,O
must,O
be,O
serialized,O
into,O
a,O
byte,B
buffer,I
.,O
To,O
facilitate,O
this,O
process,O
of,O
serialization,B
",",O
we,O
will,O
be,O
using,O
Borsh,B
.,O
"

",O
Transactions,B
can,O
fail,O
to,O
be,O
processed,O
by,O
the,O
blockchain,B
for,O
any,O
number,O
of,O
reasons,O
",",O
we,O
’ll,O
discuss,O
some,O
of,O
the,O
most,O
common,O
ones,O
here,O
.,O
"

",O
Lesson,O
"

",O
Transactions,B
"

",O
Transactions,B
are,O
how,O
we,O
send,O
information,O
to,O
the,O
blockchain,B
in,O
order,O
to,O
be,O
processed,O
.,O
So,O
far,O
",",O
we,O
’ve,O
learned,O
how,O
to,O
create,O
very,O
basic,O
transactions,B
with,O
limited,O
functionality,O
.,O
But,O
transactions,B
",",O
and,O
the,O
programs,B
they,O
are,O
sent,O
to,O
",",O
can,O
be,O
designed,O
to,O
be,O
far,O
more,O
flexible,O
and,O
handle,O
far,O
more,O
complexity,O
than,O
we,O
’ve,O
dealt,O
with,O
up,O
to,O
now,O
.,O
"

",O
Transaction,B
Contents,I
"

",O
Every,O
transaction,B
contains,O
:,O
"

",O
An,O
array,O
that,O
includes,O
every,O
account,B
it,O
intends,O
to,O
read,O
or,O
write,O
"

",O
One,O
or,O
more,O
instructions,B
"

",O
A,O
recent,O
blockhash,B
"

",O
One,O
or,O
more,O
signatures,B
"

",O
@solana,O
/,O
web3.js,O
simplifies,O
this,O
process,O
for,O
you,O
so,O
that,O
all,O
you,O
really,O
need,O
to,O
focus,O
on,O
is,O
adding,O
instructions,B
and,O
signatures,B
.,O
The,O
library,O
builds,O
the,O
array,O
of,O
accounts,B
based,O
on,O
that,O
information,O
and,O
handles,O
the,O
logic,O
for,O
including,O
a,O
recent,O
blockhash,B
.,O
"

",O
Instructions,B
"

",O
Every,O
instruction,B
contains,O
:,O
"

",O
The,O
program,O
ID,O
(,O
public,B
key,I
),O
of,O
the,O
intended,O
program,O
"

",O
An,O
array,O
listing,O
every,O
account,B
that,O
will,O
be,O
read,O
from,O
or,O
written,O
to,O
during,O
execution,O
"

",O
A,O
byte,B
buffer,I
of,O
instruction,B
data,O
"

",O
Identifying,O
the,O
program,O
by,O
its,O
public,B
key,I
ensures,O
that,O
the,O
instruction,B
is,O
carried,O
out,O
by,O
the,O
correct,O
program,O
.,O
"

",O
Including,O
an,O
array,O
of,O
every,O
account,B
that,O
will,O
be,O
read,O
from,O
or,O
written,O
to,O
allows,O
the,O
network,B
to,O
perform,O
a,O
number,O
of,O
optimizations,O
which,O
allow,O
for,O
high,O
transaction,B
load,O
and,O
quicker,O
execution,O
.,O
"

",O
The,O
byte,B
buffer,I
lets,O
you,O
pass,O
external,O
data,O
to,O
a,O
program,O
.,O
"

",O
You,O
can,O
include,O
multiple,O
instructions,B
in,O
a,O
single,O
transaction,B
.,O
The,O
Solana,B
runtime,I
will,O
process,O
these,O
instructions,B
in,O
order,O
and,O
atomically,O
.,O
In,O
other,O
words,O
",",O
if,O
every,O
instruction,B
succeeds,O
then,O
the,O
transaction,B
as,O
a,O
whole,O
will,O
be,O
successful,O
",",O
but,O
if,O
a,O
single,O
instruction,B
fails,O
then,O
the,O
entire,O
transaction,B
will,O
fail,O
immediately,O
with,O
no,O
side,O
-,O
effects,O
.,O
"

",O
The,O
account,B
array,O
is,O
not,O
just,O
an,O
array,O
of,O
the,O
accounts,B
’,O
public,B
keys,I
.,O
Each,O
object,O
in,O
the,O
array,O
includes,O
the,O
account,B
’s,O
public,B
key,I
",",O
whether,O
or,O
not,O
it,O
is,O
a,O
signer,O
on,O
the,O
transaction,B
",",O
and,O
whether,O
or,O
not,O
it,O
is,O
writable,O
.,O
Including,O
whether,O
or,O
not,O
an,O
account,B
is,O
writable,O
during,O
the,O
execution,O
of,O
an,O
instruction,B
allows,O
the,O
runtime,O
to,O
facilitate,O
parallel,B
processing,I
of,O
smart,B
contracts,I
.,O
Because,O
you,O
must,O
define,O
which,O
accounts,B
are,O
read,O
-,O
only,O
and,O
which,O
you,O
will,O
write,O
to,O
",",O
the,O
runtime,O
can,O
determine,O
which,O
transactions,B
are,O
non,O
-,O
overlapping,O
or,O
read,O
-,O
only,O
and,O
allow,O
them,O
to,O
execute,O
concurrently,O
.,O
To,O
learn,O
more,O
about,O
the,O
Solana,B
’s,O
runtime,O
",",O
check,O
out,O
this,O
blog,O
post,O
.,O
"

",O
Instruction,B
Data,O
"

",O
The,O
ability,O
to,O
add,O
arbitrary,O
data,O
to,O
an,O
instruction,B
ensures,O
that,O
programs,B
can,O
be,O
dynamic,O
and,O
flexible,O
enough,O
for,O
broad,O
use,O
cases,O
in,O
the,O
same,O
way,O
that,O
the,O
body,O
of,O
an,O
HTTP,B
request,I
lets,O
you,O
build,O
dynamic,O
and,O
flexible,O
REST,B
APIs,I
.,O
"

",O
Just,O
as,O
the,O
structure,O
of,O
the,O
body,O
of,O
an,O
HTTP,B
request,I
is,O
dependent,O
on,O
the,O
endpoint,O
you,O
intend,O
to,O
call,O
",",O
the,O
structure,O
of,O
the,O
byte,B
buffer,I
used,O
as,O
instruction,B
data,O
is,O
entirely,O
dependent,O
on,O
the,O
recipient,O
program,O
.,O
If,O
you,O
’re,O
building,O
a,O
full,B
-,I
stack,I
dApp,I
on,O
your,O
own,O
",",O
then,O
you,O
’ll,O
need,O
to,O
copy,O
the,O
same,O
structure,O
that,O
you,O
used,O
when,O
building,O
the,O
program,O
over,O
to,O
the,O
client,B
-,I
side,I
code,I
.,O
If,O
you,O
’re,O
working,O
with,O
another,O
developer,O
who,O
is,O
handling,O
the,O
program,O
development,O
",",O
you,O
can,O
coordinate,O
to,O
ensure,O
matching,O
buffer,O
layouts,O
.,O
"

",O
Let,O
’s,O
think,O
about,O
a,O
concrete,O
example,O
.,O
Imagine,O
working,O
on,O
a,O
Web3,B
game,I
and,O
being,O
responsible,O
for,O
writing,O
client,B
-,I
side,I
code,I
that,O
interacts,O
with,O
a,O
player,O
inventory,O
program,O
.,O
The,O
program,O
was,O
designed,O
to,O
allow,O
the,O
client,B
to,O
:,O
"

",O
Add,O
inventory,O
based,O
on,O
a,O
player,O
’s,O
game,O
-,O
play,O
results,O
"

",O
Transfer,O
inventory,O
from,O
one,O
player,O
to,O
another,O
"

",O
Equip,O
a,O
player,O
with,O
selected,O
inventory,O
items,O
"

",O
This,O
program,O
would,O
have,O
been,O
structured,O
such,O
that,O
each,O
of,O
these,O
is,O
encapsulated,O
in,O
its,O
own,O
function,O
.,O
"

",O
Each,O
program,O
",",O
however,O
",",O
only,O
has,O
one,O
entry,B
point,I
.,O
You,O
would,O
instruct,O
the,O
program,O
on,O
which,O
of,O
these,O
functions,O
to,O
run,O
through,O
the,O
instruction,B
data,O
.,O
"

",O
You,O
would,O
also,O
include,O
in,O
the,O
instruction,B
data,O
any,O
information,O
the,O
function,O
needs,O
in,O
order,O
to,O
execute,O
properly,O
",",O
e.g.,O
an,O
inventory,O
item,O
’s,O
ID,O
",",O
a,O
player,O
to,O
transfer,O
inventory,O
to,O
",",O
etc,O
.,O
"

",O
Exactly,O
how,O
this,O
data,O
would,O
be,O
structured,O
would,O
depend,O
on,O
how,O
the,O
program,O
was,O
written,O
",",O
but,O
it,O
’s,O
common,O
to,O
have,O
the,O
first,O
field,O
in,O
instruction,B
data,O
be,O
a,O
number,O
that,O
the,O
program,O
can,O
map,O
to,O
a,O
function,O
",",O
after,O
which,O
additional,O
fields,O
act,O
as,O
function,O
arguments,O
.,O
"

",O
Serialization,B
"

",O
In,O
addition,O
to,O
knowing,O
what,O
information,O
to,O
include,O
in,O
an,O
instruction,B
data,O
buffer,O
",",O
you,O
also,O
need,O
to,O
serialize,O
it,O
properly,O
.,O
The,O
most,O
common,O
serializer,B
used,O
in,O
Solana,B
is,O
Borsh,B
.,O
Per,O
the,O
website,O
:,O
"

",O
Borsh,B
stands,O
for,O
Binary,B
Object,I
Representation,I
Serializer,I
for,O
Hashing,B
.,O
It,O
is,O
meant,O
to,O
be,O
used,O
in,O
security,B
-,O
critical,O
projects,O
as,O
it,O
prioritizes,O
consistency,O
",",O
safety,O
",",O
speed,O
;,O
and,O
comes,O
with,O
a,O
strict,O
specification,O
.,O
"

",O
Borsh,B
maintains,O
a,O
JS,B
library,I
that,O
handles,O
serializing,O
common,O
types,O
into,O
a,O
buffer,O
.,O
There,O
are,O
also,O
other,O
packages,O
built,O
on,O
top,O
of,O
borsh,B
that,O
try,O
to,O
make,O
this,O
process,O
even,O
easier,O
.,O
We,O
’ll,O
be,O
using,O
the,O
@coral,O
-,O
xyz,O
/,O
borsh,B
library,O
which,O
can,O
be,O
installed,O
using,O
npm,B
.,O
"

",O
Building,O
off,O
of,O
the,O
previous,O
game,O
inventory,O
example,O
",",O
let,O
’s,O
look,O
at,O
a,O
hypothetical,O
scenario,O
where,O
we,O
are,O
instructing,O
the,O
program,O
to,O
equip,O
a,O
player,O
with,O
a,O
given,O
item,O
.,O
Assume,O
the,O
program,O
is,O
designed,O
to,O
accept,O
a,O
buffer,O
that,O
represents,O
a,O
struct,O
with,O
the,O
following,O
properties,O
:,O
"

",O
variant,O
as,O
an,O
unsigned,O
",",O
8,O
-,O
bit,O
integer,O
that,O
instructs,O
the,O
program,O
which,O
instruction,B
",",O
or,O
function,O
",",O
to,O
execute,O
.,O
"

",O
playerId,O
as,O
an,O
unsigned,O
",",O
16,O
-,O
bit,O
integer,O
that,O
represents,O
the,O
player,O
ID,O
of,O
the,O
player,O
who,O
is,O
to,O
be,O
equipped,O
with,O
the,O
given,O
item,O
.,O
"

",O
itemId,O
as,O
an,O
unsigned,O
",",O
256,O
-,O
bit,O
integer,O
that,O
represents,O
the,O
item,O
ID,O
of,O
the,O
item,O
that,O
will,O
be,O
equipped,O
to,O
the,O
given,O
player,O
.,O
